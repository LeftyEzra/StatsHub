
{% extends "base.html" %}
{% load static %}

{% block content %}
<script src="{% static 'js/organizer_competitions.js' %}"></script>

<style>
 body {

        color: #ffffff;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

#carouselExampleIndicators{

        top: -10px;
        z-index: 20;

}

.carousel-item {
        height: 40vh;
}

.nav-link.active {
        color: black; /* Change to your desired color */
        background-color: orange; /* Optional: Change background color if needed */
        border-radius: 5px

    }


.nav{
        box-shadow: 5px 20px 50px #353635;
        overflow-x: auto;
        overflow-y: hidden;
        height: 62px;
        display: flex;
        white-space: nowrap;
        flex-wrap: nowrap;
        padding: 10;
        align-items: center;
        background: grey;

    }

a {
    text-decoration: none;
    color: inherit;
}

a:hover {
    text-decoration: none;
    text-decoration-color: transparent;
}



#fixedCol{
        position: sticky;
        top: 80px;
        z-index: 20;

}

#carouselExampleIndicators + #fixedCol {
    top: 0px; /* Adjust based on the width of the first fixed column */
}




#centerNavlinks {
        background-color: green;
        min-height: 30vh;
        padding: 20px;
        top: -40px;
        margin-top: -20px;
        position: relative;
    }


.scroll-container-center-nav {
        display: flex;
        justify-content: center;
        overflow-x: auto;
        gap: 10px;
        padding: 10px;
        width: 100%;
        margin: 0 auto;
    }






.parent-container {
        position: relative;
        display: flex;
        justify-content: center;

        padding: 20px;
        min-height: 0vh;
        height: auto;
    }

/* Game Schedule Starts*/
#gameDates {
        min-height: 30vh;
        padding: 20px;
        top: -40px;
        margin-top: -60px;
        position: relative;
    }

.average-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        background-color: green;
        border-top-left-radius: 10px; /* Match the card's border radius */
        border-top-right-radius: 10px; /* Match the card's border radius */
    }

.scroll-container {
        display: flex;
        overflow-x: auto;
        gap: 10px;
        padding: 10px;
        width: 100%;
        margin: 0 auto;
        background-color: #bdbec2;
        border-bottom-left-radius: 15px; /* Match the card's border radius */
        border-bottom-right-radius: 15px; /* Match the card's border radius */
    }

.card-dates {
        flex: 0 0 auto;
        height: 100px;
        width: 100px;
        border: 1px solid #ddd;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        border-radius: 10px;
        margin: 5px;
        background-color: green;
        box-shadow: 3px 3px 5px black;
    }

.card-dates:hover {
        animation-name: grow;
        animation-duration: 2s;
    }

.card-body-p {
        display: flex;
        flex-direction: column;
        justify-content: center;
        height: calc(100% - 20px);
        padding: 5px;
    }

@media (max-width: 768px) {
        .average-container {
            text-align: center;
            justify-content: center;
        }

        .scroll-container {
            justify-content: flex-start;
        }
    }

@keyframes grow {
        5% {
            transform: scale(1.1, 1.1);
        }
    }

@keyframes glow {
        50% {
            box-shadow: 5px 5px 50px #7fa403;
        }
    }
/* Game Schedule End*/


/* Game Summary */
.scroll-container-game-summary {
        display: flex;
        overflow-x: auto;
        padding: 10px;
        gap: 10px;
        /*background: linear-gradient(to right, #bdbec2, #7a7b8a);*/
        border-radius: 0px;
    }

.game-summary-container {
        background-color: transparent;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        width: auto;
    }

.card-body-summary {
        padding: 5px;
        flex: 1;
        display:flex;
        align-items: center;
        justify-content: start;
        text-align: center;
    }

.boxscore:hover {
    color: #333cf1;
    font-size: 70px;

}



.card-summary {
        flex: 0 0 20rem;
        height: 13rem;
        border: 0px solid #ddd;
        border-radius: 20px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow-hidden;
        background: linear-gradient(to top, #ffd700, #00ff00);
    }

.card-body-3 {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        height: auto;
        padding: 10px;
        margin: 0;
        flex-shrink: 0;
        height: auto;
    }

.card-body {
        padding: 10px
        flex:1 1 auto;

}

.card-title-summary{
        margin:0;
        font-size: smaller;
}




/* Game Average Leaders */
.scroll-container-game-leaders {
        display: flex;
        overflow-x: auto;
        padding: 10px;
        gap: 10px;
        background-color: transparent;
        border-radius: 0px;
    }

.game-leaders-container {

        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

.card-body-leaders {
        padding: 5px;
        flex: 1;
        display:flex;
        align-items: center;
        justify-content: start;
    }

.card-leaders {
        flex: 0 0 23rem;
        height: 18rem;
        border: 1px solid #ddd;
        border-radius: 20px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow-hidden;

    }

.card-body-leaders {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        height: auto;
        padding: 10px;
        margin: 0;
        flex-shrink: 0;
        height: auto;
        border: 0px solid #ddd;
    }

.card-body {
        padding: 10px
        flex:1 1 auto;

}

.card-title-leaders{
        margin:0;
        font-size: smaller;
}

#span {

        margin-left: 240px;
        font-size :larger;
        font-weight: bold;
        font-style: italic;
        color: #d9e806;

}
#stat-averages {
        justify-content: center;
        align-items: center;
        background-color: #5b6736 ;
        text-align: center;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
}

#averages {
        font-size :larger;
        font-weight: 700;
        font-style: italic;
        color: white;
        text-shadow: 3px 3px 10px black;
        text-decoration-color
}


.table-borderless {

         width: 100%;
         border-collapse: collapse;
         margin: 0;
         border-bottom-left-radius: 25px;
         border-bottom-right-radius: 25px;


}

.table-borderless tbody tr:nth-child(even){
        background-color: #353635;

}

.table-borderless tbody tr:hover {
        background-color: #e0e0e0

}






/* Single game performance */

.scroll-container-single-game-leaders {
        display: flex;
        overflow-x: auto;
        padding: 10px;
        gap: 10px;
        background-color: transparent;
        border-radius: 0px;
    }

.single-game-leaders-container {

        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

.card-body-single-leaders {
        padding: 5px;
        flex: 1;
        display:flex;
        align-items: center;
        justify-content: start;
    }

.card-single-leaders {
        flex: 0 0 23rem;
        height: 18rem;
        border: 1px solid #ddd;
        border-radius: 20px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow-hidden;

    }

.card-body-single-leaders {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        height: auto;
        padding: 10px;
        margin: 0;
        flex-shrink: 0;
        height: auto;
        border: 0px solid #ddd;
    }

.card-body {
        padding: 10px
        flex:1 1 auto;

}

.card-title-leaders{
        margin:0;
        font-size: smaller;
}

#spansingles {

        margin-left: 240px;
        font-size :larger;
        font-weight: bold;
        font-style: italic;
        color: #d9e806;

}
#topSingles {
        justify-content: center;
        align-items: center;
        background-color: #5b6736 ;
        text-align: center;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
}

#topPerformers{
        font-size :larger;
        font-weight: 700;
        font-style: italic;
        color: white;
        text-shadow: 3px 3px 10px black;
        text-decoration-color
}


/* Single game performance end *

/* Add this to your CSS file or inside a <style> tag */
.nav {
    margin-bottom: 0; /* Remove bottom margin from nav */
}

#gameFixtures {
    margin-top: 10px; /* Adjust top margin to bring it closer */
}

.container {
    padding: 0; /* Remove padding from container */
}

/* Standing Table */

#team_name{
        position: sticky;
        left: -5px;
        z-index: 1;

}

#team_name1{
        position: sticky;
        left: -5px;
        z-index: 1;

}


.scroll-container-standing-table {
    display: flex;
    overflow-x: auto;
    padding: 10px;
    gap: 10px;
    background: linear-gradient(to right, #bdbec2, #7a7b8a);
    border-radius: 0px;
}

.standing-table-container {
    background-color: transparent;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    width: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 8px 12px;
    border: 1px solid #ddd;
    color: white; /* Ensure consistent text color */
}

th {
    background-color: #f2f2f2;
    white-space: nowrap; /* Prevent text wrapping */
    text-align: left; /* Align text to the left */
}

@media (max-width: 768px) {
    th, td {
        padding: 6px 8px; /* Adjust padding for smaller screens */
        font-size: 12px; /* Adjust font size for smaller screens */
    }
}

/* Standing Table End*/



/* Player Center Table begin */

#playerheader{
        position: sticky;
        left: -5px;
        z-index: 1;

}
#playerheader1{
        position: sticky;
        left: -5px;
        z-index: 1;

}

.playercenter {
    overflow-x: auto; /* Add horizontal scroll */
    padding: 10px;
    background: linear-gradient(to right, #bdbec2, #7a7b8a);
    border-radius: 10px; /* Added border-radius for smooth corners */
    white-space: nowrap; /* Prevent wrapping */
    max-width: 100%; /* Ensure it doesn't exceed the container width */
}

.scroll-container-leader-table {
    overflow-x: auto; /* Ensure horizontal scroll */
    white-space: nowrap; /* Prevent wrapping */
}

.playercenter table {
    width: 100%;
    border-collapse: collapse;
    table-layout: auto; /* Allow columns to adjust based on content */
}

.playercenter th, .playercenter td {
    padding: 8px 12px;
    border: 1px solid #ddd;
    color: white; /* Ensure consistent text color */
    text-align: left; /* Ensure consistent text alignment */
    white-space: nowrap; /* Prevent text from wrapping */
}

.playercenter th {
    background-color: #333; /* Darker background for header */
    white-space: nowrap; /* Prevent text wrapping */
}

@media (max-width: 768px) {
    .playercenter th, .playercenter td {
        padding: 6px 8px; /* Adjust padding for smaller screens */
        font-size: 12px; /* Adjust font size for smaller screens */
    }

    .playercenter th:nth-child(1), .playercenter td:nth-child(1), /* Rank column */
    .playercenter th:nth-child(3), .playercenter td:nth-child(3) { /* Age column */
        width: 50px; /* Reduce width for smaller screens */
    }
}
/* Player Center Table End */





/* Leaders Table begin */

#leader{
        position: sticky;
        left: -5px;
        z-index: 1;

}
#leader1{
        position: sticky;
        left: -5px;
        z-index: 1;

}



#leadersTable {
    overflow-x: auto; /* Add horizontal scroll */
    padding: 10px;
    background: linear-gradient(to right, #bdbec2, #7a7b8a);
    border-radius: 10px; /* Added border-radius for smooth corners */
    white-space: nowrap; /* Prevent wrapping */
    max-width: 100%; /* Ensure it doesn't exceed the container width */
    overflow: auto; /* Allow scrolling */
}

#leadersTableContainer .leader-table-container {
    background-color: transparent;
    width: 100%;
    overflow-x: hidden; /* Ensure no horizontal overflow on the main container */
}

#leadersTable table {
    width: 100%;
    border-collapse: collapse;
    table-layout: auto; /* Allow columns to adjust based on content */
}

#leadersTable th, #leadersTable td {
    padding: 8px 12px;
    border: 1px solid #ddd;
    color: white; /* Ensure consistent text color */
    text-align: left; /* Ensure consistent text alignment */
    white-space: nowrap; /* Prevent text from wrapping */
}

#leadersTable th {
    background-color: #333; /* Darker background for header */
    white-space: nowrap; /* Prevent text wrapping */
}

@media (max-width: 768px) {
    #leadersTable th, #leadersTable td {
        padding: 6px 8px; /* Adjust padding for smaller screens */
        font-size: 12px; /* Adjust font size for smaller screens */
    }

    #leadersTable th:nth-child(1), #leadersTable td:nth-child(1), /* Rank column */
    #leadersTable th:nth-child(3), #leadersTable td:nth-child(3) { /* Age column */
        width: 50px; /* Reduce width for smaller screens */
    }
}
/* Leaders Table End */


</style>








  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="5000">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100" src="{% static 'img/IMG_5005.JPG' %}" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{% static 'img/IMG_5006.JPG' %}" alt="Second slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{% static 'img/IMG_5008.JPG' %}" alt="Third slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{% static 'img/IMG_5009.JPG' %}" alt="Third slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{% static 'img/james.png' %}" alt="Third slide">
            </div>
            <div class="carousel-cap">
                 <div class="card-body">

                      <form method="POST" action="{% url 'search-teams-players' %}">
                            {% csrf_token %}
                            <input class="form-control me-2" type="search" placeholder="Search" name="searched" aria-label="Search"><br>
                            <button class="btn btn-outline-primary" type="submit">Search</button>
                        </form>

                  </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>


<!-- Navigation Links -->
<ul class="nav" id="fixedCol">
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link active" id="game_Dates" aria-current="page" href="#" style="white-space: nowrap;">Home</a>
    </li>
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link" id="teamList" href="#" style="white-space: nowrap;">Team List</a>
    </li>
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link" id="playersList" href="#">Player List</a>
    </li>
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link" id="gameSchedule" href="#" style="white-space: nowrap;">Game Schedule</a>
    </li>
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link" id="standing" href="#" style="white-space: nowrap;">Standing</a>
    </li>
    <li class="nav-item" style="margin-right: 5px;">
        <a class="nav-link" id="leaders" href="#" style="white-space: nowrap;">Leaders</a>
    </li>
</ul>



    <h1 style="color: white;">Competitions for {{ organizer.name }}</h1>
    {% if competitions %}
        <ul>
            {% for competition in competitions %}
                <li style="color: white;">{{ competition.name }}: {{ competition.start_date }} - {{ competition.end_date }} at {{ competition.location }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p style="color: white;">No competitions available for this organizer.</p>
    {% endif %}


<!-- Start a loop over the competitions_with_dates context variable -->
{% for competition_with_dates in competitions_with_dates %}
    <!-- Temporarily set the competition variable to competition_with_dates.competition -->
    {% with competition=competition_with_dates.competition %}
        <!-- Generate a URL for the 'top-averages' view, passing competition.id as the argument -->
        <a class="dropdown-item" href="{% url 'top-averages' competition.id %}">
            <span style="color:white;">Top averages</span>
        </a>
    {% endwith %}
{% endfor %}











<!-- Container to hold game schedule dates -->
<div id="gameDates" class="container mt-5" style="display: none; padding: 10px;">
    <div class="average-container">
        <div class="row">
            <div class="col-12">
                <h4 class="h4-averages" style="text-align: center; text-shadow: 3px 3px 5px black;">
                    <strong style="color:#c3f719;">Game Schedule</strong>
                </h4>
            </div>
        </div>
    </div>
    <div class="scroll-container">
        {% for item in competitions_with_dates %}
            <!-- <h3>{{ item.competition.name }}</h3> -->
            {% for date_info in item.dates %}
                <a class="dateLink" href="#">
                    <div class="card-dates" data-competition-id="{{ item.competition.id }}" data-date="{{ date_info.date }}" >
                        <div class="card-header" style="text-align: center;">
                            <strong style="color:black;">{{ date_info.date.year }}</strong>
                        </div>
                        <div class="card-body-p">
                            <p class="card-title" style="text-align: center; margin: 0px; color:black;">{{ date_info.date|date:"D" }}</p>
                            <p class="card-title" style="text-align: center; margin: 0px; color:black;">{{ date_info.date|date:"d" }}</p>
                            <p class="card-title" style="text-align: center; margin: 0px; color:black;">{{ date_info.date|date:"M" }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        {% endfor %}
    </div>
</div>

<!-- Container for game summary  id="gameSummary" -->

 <div class="container mt-5"  id="gameSummary"  style="display: none; padding: 10px;" >
        <div  class="game-summary-container"  >
            <div class="row">
                <div class="col-12">
                    <h4 class="h4-summary"  style="text-align: flex-start; margin: 10px; text-shadow: 3px 3px 7px black; text-decoration-color">
                        <strong style="color:#c3f719 ;">Game Summary</strong>
                    </h4>
                </div>
            </div>
        </div>



        <div class="scroll-container-game-summary" id="gameSummaryCard">
            {% for item in competitions_with_dates %}
                {% for date_info in item.dates %}
                    {% if date_info.games %}
                        {% for game in date_info.games %}
                            {% if game.home_team_scores and game.away_team_scores %}
                                <div class="card-summary" style="display: none;" data-competition-id="{{ item.competition.id }}" data-date="{{ date_info.date }}">
                                    <div class="card-body-summary" style=" height: 50px; line-height: 20px; padding: 0;">
                                        <h5 class="card-title-summary" style="font-weight: bold; margin: 0 auto; text-align: center; width: 100%;">{{ game.date }}</h5>
                                    </div>

                                    <div class="card-body-summary" style="display: flex; justify-content: space-between; align-items: center;">
                                        <div class="flex-container" style="display: flex; align-items: center;">
                                            <a href="{% url 'teams-id' game.home_team.pk %}" style="color: black;">
                                                <img src="{{ game.home_team.team_logo.url }}" style="border-radius: 5%;" width="45" height="35">&nbsp;&nbsp;
                                                <span style="font-size :20; ">{{ game.home_team }}</span>
                                            </a>
                                        </div>
                                        <span style="margin-left: auto; font-weight: bold; font-size :20;">{{game.home_team_scores}}</span>
                                    </div>

                                     <div class="card-body-summary" style="display: flex; justify-content: space-between; align-items: center;">
                                        <div class="flex-container" style="display: flex; align-items: center;">
                                            <a href="{% url 'teams-id' game.away_team.pk %}" style="color: black;">
                                                <img src="{{ game.away_team.team_logo.url }}" style="border-radius: 5%;" width="45" height="35">&nbsp;&nbsp;
                                                <span style="font-size :20; ">{{ game.away_team }}</span>
                                            </a>
                                        </div>
                                        <span style="margin-left: auto; font-size :20; font-weight: bold;">{{game.away_team_scores}}</span>
                                    </div>
                                    <div class="card-body-summary" style=" text-align: center; border-bottom-right-radius: 18px; border-bottom-left-radius: 18px; height: 50px; line-height: 20px; padding: 0;">
                                        <h5 class="card-title-summary boxscore" style="margin: 0 auto; text-align: center; width: 100%; font-size :20px; ">Boxscore</h5>
                                    </div>
                                </div>
                            {% else %}
                                 <div class="card-summary" data-competition-id="{{ item.competition.id }}" data-date="{{ date_info.date }}" style="display: none; background: linear-gradient(to right, #ffd700, #ffb700);">
                                    <div class="card-body-summary" style="background: linear-gradient(to right, #ffd700, #ffb700);; text-align: center; text-shadow: 3px 3px 7px black; border-top-right-radius: 20px; border-top-left-radius: 20px;">
                                        <h5 class="card-title-summary" style="margin: 0 auto; text-align: center; width: 100%;">{{ game.date }}</h5>
                                    </div>
                                    <div class="card-body-summary">
                                        <div class="flex-container">
                                            <a href="{% url 'teams-id' game.home_team.pk %}" style="color: black;">
                                                <img src="{{ game.home_team.team_logo.url }}" style="border-radius: 5%;" width="30" height="20">
                                                <span>{{ game.home_team }}</span>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="card-body-3">
                                        <h5 class="card-title-summary">To be played</h5>
                                    </div>
                                    <div class="card-body-summary">
                                        <div class="flex-container">
                                            <a href="{% url 'teams-id' game.away_team.pk %}" style="color: black;">
                                                <img src="{{ game.away_team.team_logo.url }}" style="border-radius: 5%;" width="30" height="20">
                                                <span>{{ game.away_team }}</span>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="card-body-summary">
                                        <h5 class="card-title-summary" style="margin: 0 auto; text-align: center; width: 100%;">Preview</h5>
                                    </div>
                                </div>
                            {% endif %}
                      {% endfor %}
                    {% else %}
                            <div class="card-summary" data-competition-id="{{ item.competition.id }}" data-date="{{ date_info.date }}" style="background: linear-gradient(to right, #ff8c00, #ff4500); display: none;">
                                    <div class="card-body-summary" style="background: linear-gradient(to right, #ff8c00, #ff4500); text-align: center; text-shadow: 3px 3px 7px black; border-top-right-radius: 20px; border-top-left-radius: 20px;">
                                        <h5 class="card-title-summary" style="margin: 0 auto; text-align: center; width: 100%;">{{ game.date }}</h5>
                                    </div>
                                    <div class="card-body-summary">
                                        <div class="flex-container">

                                            <span></span>
                                        </div>
                                    </div>
                                    <div class="card-body-3">
                                        <p style="color:black;">No games scheduled for this date.</p>
                                    </div>
                                    <div class="card-body-summary">
                                        <div class="flex-container">

                                            <span></span>
                                        </div>
                                    </div>
                                    <div class="card-body-summary">
                                        <h5 class="card-title-summary" style="margin: 0 auto; text-align: center; width: 100%;"></h5>
                                    </div>
                                </div>
                    {% endif %}
                {% endfor %}
            {% endfor %}
            <!-- Card end-->
        </div>
</div>
<!-- Container for game summary  end-->

<!-- Container for game leaders   id="gameLeaders"-->

 <div class="container mt-5" id="gameLeaders"  style="display: none; padding: 10px;">
        <div class="game-leaders-container" >
            <div class="row">
                <div class="col-12">
                    <h4 class="h4-leaders"  style="text-align: center; text-shadow: 3px 3px 7px black; text-decoration-color">
                        <strong style="color:#c3f719 ;">Averages Leaders</strong>
                    </h4>
                </div>

            </div>

        </div>
        <div class="scroll-container-game-leaders" style=" max-height: 340px;">
            <!-- POINTS -->
            <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Points</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm">
                    {% for every_player in top_5_points %}
                        {% for player in players %}
                            {% if every_player.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ every_player.points }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- REBOUNDS -->
               <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Rebounds</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm" >
                    {% for every_player in top_5_rebounds %}
                        {% for player in players %}
                            {% if every_player.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ every_player.total_rebounds }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>

            <!-- ASSISTS -->
              <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Assists</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm">
                    {% for every_player in top_5_assists %}
                        {% for player in players %}
                            {% if every_player.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ every_player.assists }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- BLOCKS  -->
                 <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Blocks</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm">
                    {% for every_player in top_5_blocks %}
                        {% for player in players %}
                            {% if every_player.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ every_player.blocks }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>
            <!-- EFFICIENCY -->
           <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Efficiency</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm" >
                    {% for every_player in top_5_efficiencies %}
                        {% for player in players %}
                            {% if every_player.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ every_player.efficiency }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>

            <!-- Card end-->
        </div>
</div>
<!-- Container for game leaders  end-->

<!-- Container for single game performance -->
 <div class="container mt-5" id="singleLeaders"  style="display: none; padding: 10px;">
        <div class="single-game-leaders-container" >
            <div class="row">
                <div class="col-12">
                    <h4 class="h4-single-game-leaders"  style="text-align: center; text-shadow: 3px 3px 7px black; text-decoration-color">
                        <strong style="color:#c3f719 ;">Top single game performers</strong>
                    </h4>
                </div>
            </div>
        </div>


        <div class="scroll-container-single-game-leaders" >
           <!-- POINTS -->
            <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Points</h5>
                    </div>
                </div>
                <table class="table table-borderless table-sm">
                    {% for player_stat in top5_point_leaders %}
                        {% for player in players %}
                            {% if player_stat.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ player_stat.points }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- REBOUNDS -->
                <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Rebounds</h5>
                    </div>
                </div>





                <table class="table table-borderless table-sm">
                    {% for player_stat in rebounds_leaders_dfs %}
                        {% for player in players %}
                            {% if player_stat.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ player_stat.total_rebounds }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- ASSISTS -->
            <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Assists</h5>
                    </div>
                </div>

                <table class="table table-borderless table-sm">
                    {% for player_stat in assist_leaders_dfs %}
                        {% for player in players %}
                            {% if player_stat.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ player_stat.assists }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>

            <!-- BLOCKS -->
            <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Blocks</h5>
                    </div>
                </div>
                <table class="table table-borderless table-sm">
                    {% for player_stat in blocks_leaders_dfs %}
                        {% for player in players %}
                            {% if player_stat.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ player_stat.blocks }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- EFFICIENCY -->
          <div class="card-leaders" style="border: 1px solid #ddd; border-radius: 20px; margin-bottom: 10px;">
                <div class="card-body-leaders" id="stat-averages" style="padding: 10px;">
                    <div class="flex-container" style="display: flex; align-items: center; height: 20px;">
                        <h5 id="averages" class="card-title-leaders" style="font-size: 16px; margin: 0;">Efficiency</h5>
                    </div>
                </div>
                <table class="table table-borderless table-sm">
                    {% for player_stat in efficiency_leaders_dfs %}
                        {% for player in players %}
                            {% if player_stat.player_name__player_name == player.player_name %}
                                <tr>
                                    <td style="padding: 5px; display: flex; align-items: center;">
                                        <img src="{{ player.player_image.url }}" alt="{{ player.player_name }}" style="border-radius: 50%; margin-right: 10px;" width="45" height="40">
                                        <span style="color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px;">{{ player.player_name }}</span>
                                    </td>
                                    <td style="padding: 5px; text-align: right;">
                                        <span style=" color: white; white-space: nowrap;">{{ player_stat.efficiency }}</span>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </table>
            </div>


            <!-- Card end-->
        </div>
</div>
<!-- Container for single game performance  end-->

<div id="teamSection" class="container-fluid" style="padding: 20px; background-color: white;">
  <section id="teamsSection" class="py-5" style="border-radius: 5px; display: none; padding: 10px 10px 10px 10px; padding-top: 0px;">
    <div class="container-fluid px-4 px-lg-5 mt-5" style="background-color:transparent;">
      <div class="row g-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center" style="background-color:transparent; overflow-y: auto; max-height: 80vh;">
        {% for team in teams %}
        <div class="col mb-5">
          <div class="card h-100" style="width: 100%; height: auto; justify-content: space-evenly; background-color:transparent;">
            <!-- Team image -->
            <a href="{% url 'teams-id' team.pk %}">
              <img class="card-img-top" src="{{ team.team_logo.url }}" alt="{{ team.team_name }}" id="team-logo" />
            </a>
            <!-- Team details -->
            <div class="text-center" style="height: auto;">
              <!-- Team name -->
              <a href="{% url 'teams-id' team.pk %}" style="color: transparent;">
                <h5 class="fw-bolder" style="margin-top: -5px; color: black;">{{ team.team_name }}</h5>
              </a>
            </div>
            <!-- Team actions -->
            {% if user.is_authenticated %}
            <div class="card-footer p-4 pt-0 border-top-0" style="height:60px; background-color:transparent;">
              <div class="d-flex justify-content-center" style="width: 100%; height: 50px; margin-top: 5px;">
                <a href="{% url 'update-team' team.pk %}" class="btn btn-outline-primary btn-sm mx-1" style="margin-bottom: 3px;">Update Team</a>
                {% if user.is_superuser %}
                <a href="{% url 'delete-team' team.pk %}" class="btn btn-outline-danger btn-sm mx-1" style="margin-bottom: 3px;">Delete Team</a>
                {% endif %}
              </div>
            </div>
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
</div>

<!-- Player Section (centered) -->
<div id="PlayerSection" class="playercenter" style="padding: 10px; margin: auto; max-width: 1100px;">
    <div class="scroll-container-leader-table">
        <table class="table table-sm" style="width: 100%;">
            <thead class="table-danger" style="background-color: #04AA6D;">
                <tr align="center">
                    <th scope="col" id="playerheader" style="width: 30%; text-align: left;">PLAYER NAME</th>
                    <th scope="col" style="width: 30%; text-align: left;">TEAM</th>
                    <th scope="col" style="width: 5%;">AGE</th>
                    <th scope="col" style="width: 10%;">HEIGHT</th>
                    <th scope="col" style="width: 25%; text-align: right;">NATIONALITY</th>
                </tr>
            </thead>
            <tbody>
                {% for player in players %}
                <tr>
                    <th scope="row" id="playerheader1"  style="text-align: left;">
                        <a href="{% url 'player-id' player.pk %}" >{{ player.player_name }}</a>
                    </th>

                    <td class="fixed-col">{{ player.player_club }}</td>
                    <td style="text-align: center; font-size: small;">{{ player.age }}</td>
                    <td style="text-align: center;">{{ player.height }} cm</td>
                    <td style="text-align: right; font-weight: bold;">
                        <a href="{% url 'teams-id' player.team_name.pk %}">{{ player.team_name.team_name }}</a>
                    </td>
                    <td style="text-align: center;"></td>
                </tr>
                {% endfor %}
                <tr align="center">
                    <td colspan="5" style="text-align: center;">Mean</td>

                </tr>

                <tr align="center">
                    <td colspan="2" style="text-align: left;"></td>
                    <th  style="width: 5%;">{{ mean_age|floatformat:1 }}</th>
                    <th  style="width: 10%; text-align: center;">{{ mean_height|floatformat:1 }} cm </th>
                    <th  style="width: 25%; text-align: right; background-color:transparent;"></th>
                </tr>
            </tbody>
        </table>
    </div>
</div>






<!-- Game Fixtures Section -->
<div class="container mt-2" id="gameFixtures" style="background-color: grey; padding: 10px;">
    <div class="average-container">
        <div class="row">
            <div class="col-12">
                <h4 class="h4-averages" style="text-align: center; text-shadow: 3px 3px 5px black;">
                    <strong style="color:#c3f719;">GAME FIXTURES TOURNAMENT</strong>
                </h4>
            </div>
        </div>
    </div>
    <div id="table_schedule" style="width:100%; overflow-x: auto;">
        <table class="table table-sm" style="width: 100%;">
            <thead class="table-transparent">
                <tr align="center">
                    <th scope="col" style="color:white; width: 10%; text-align: left;background-color: #333;">DATE</th>
                    <th scope="col" style="color:white; width: 15%; text-align: center;background-color: #333;">TIME</th>
                    <th scope="col" style="color:white; width: 30%; text-align: left;background-color: #333;">HOME</th>
                    <th scope="col" style="color:white; width: 30%; text-align: left;background-color: #333;">AWAY</th>
                    <th scope="col" style="color:white; width: 10%; text-align: center;background-color: #333;">GAME RESULT</th>
                </tr>
            </thead>
            <tbody>
                {% for item in competitions_with_dates %}
                    {% for date_info in item.dates %}
                        {% if date_info.games %}
                            {% for game in date_info.games %}
                                <tr class="table-summary" data-competition-id="{{ item.competition.id }}" data-date="{{ date_info.date }}">
                                    <th scope="row" style="text-align: left; color:white;">{{ game.date }}</th>
                                    <td class="fixed-col" style="text-align: center; color:white;"></td>
                                    <td style="text-align: start;">
                                        <a href="{% url 'teams-id' game.home_team.pk %}">
                                            <img src="{{ game.home_team.team_logo.url }}" style="border-radius: 50%;" width="30" height="25">
                                        </a>
                                        &nbsp;
                                        <a href="{% url 'teams-id' game.home_team.pk %}" style="color: white;">{{ game.home_team }}</a>
                                    </td>
                                    <td style="text-align: start;">
                                        <a href="{% url 'teams-id' game.away_team.pk %}">
                                            <img src="{{ game.away_team.team_logo.url }}" style="border-radius: 50%;" width="30" height="25">
                                        </a>
                                        &nbsp;
                                        <a href="{% url 'teams-id' game.away_team.pk %}" style="color: white;">{{ game.away_team }}</a>
                                    </td>
                                    <td style="text-align: center; color:white;">
                                        <a href="">{{game.home_team_scores}}-{{game.away_team_scores}}</a>
                                    </td>
                                </tr>
                            {% endfor %}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>







<!-- Container for standing table -->

 <div class="container mt-5"  id="standingTable"  style=" padding: 10px;" >
        <div  class="standing-table-container"  >
            <div class="row">
                <div class="col-12">
                    <h4 class="h4-summary"  style="text-align: flex-start; margin: 10px; text-shadow: 3px 3px 7px black; text-decoration-color">
                        <strong style="color:#c3f719 ;">Standings</strong>
                    </h4>
                </div>
            </div>
        </div>



        <div class="scroll-container-standing-table" id="standingSummarytable">

            <table class="table table-sm" style="width:100%">
                <thead>
                    <tr>
                        <th style="color:white; background-color: #333;">Rank</th>
                        <th id="team_name" style="color:white; background-color: #333;">Team</th>
                        <th style="color:white;   background-color: #333;">Games Played</th>
                        <th style="color:white;background-color: #333;">Wins</th>
                        <th style="color:white;background-color: #333;">Loss</th>
                        <th style="color:white;background-color: #333;">W/L %</th>
                        <th style="color:white;background-color: #333;">PTS +</th>
                        <th style="color:white;background-color: #333;">PTS -</th>
                        <th style="color:white;background-color: #333;">PTS +/-</th>
                        <th style="color:white;background-color: #333;">Pts+/Game</th>
                        <th style="color:white;background-color: #333;">Pts-/Game</th>
                        <th style="color:white;background-color: #333;">Pts/Game +/-</th>

                    </tr>
                </thead>
                <tbody>
                    {% for standing in standings %}
                        <tr>
                            <td style="color:white;">{{ forloop.counter }}</td>
                            <td id="team_name1" style="color:white;background-color: #333;">{{ standing.team }}</td>
                            <td style="color:white;">{{ standing.games_played }}</td>
                            <td style="color:white;">{{ standing.games_won }}</td>
                            <td style="color:white;">{{ standing.games_lost }}</td>
                            <td style="color:white;">{{ standing.game_win_loss_percent|floatformat:1 }}</td>
                            <td style="color:white;">{{ standing.points_scored }}</td>
                            <td style="color:white;">{{ standing.points_conceded }}</td>
                            <td style="color:white;">{{ standing.point_diff }}</td>
                            <td style="color:white;">{{ standing.points_scored_per_game|floatformat:1 }}</td>
                            <td style="color:white;">{{ standing.points_conceded_per_game|floatformat:1 }}</td>
                            <td style="color:white;">{{ standing.point_difference_per_game|floatformat:1 }}</td>

                        </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>
</div>



<!-- Container for players leader table -->
<div class="container mt-5" id="leadersTableContainer" style="padding: 10px;">
    <div class="leader-table-container">
        <div class="row">
            <div class="col-12">
                <h4 class="h4-summary" style="text-align: flex-start; margin: 10px; text-shadow: 3px 3px 7px black;">
                    <strong style="color:#c3f719;">Leaders</strong>
                </h4>
            </div>
        </div>
    </div>
    <div class="scroll-container-leader-table" id="leadersTable">
        <table class="table table-sm" style="width:100%">
            <thead>
                <tr>
                    <th style="color:white;">Rank</th>
                    <th id="leader" style="color:white;">PLAYER</th>
                    <th style="color:white;">AGE</th>
                    <th style="color:white;">AVERAGE POINTS</th>
                    <th style="color:white;">ACCUMULATION</th>
                    <th style="color:white;">GAMES PLAYED</th>
                </tr>
            </thead>
            <tbody>
                {% for player_standing in player_standings %}
                    <tr>
                        <td style="color:white;">{{ forloop.counter }}</td>
                        <td id="leader1" style="color:white;background-color: #333;">{{ player_standing.player_name__player_name }}</td>
                        <td style="color:white;">
                            {% for player in players %}
                                {% if player_standing.player_name__player_name == player.player_name %}
                                    {{ player.age }}
                                {% endif %}
                            {% endfor %}
                        </td>
                        <td style="color:white;">
                            {% for every_player in points_leaders_by_averages %}
                                {% if player_standing.player_name__player_name == every_player.player_name__player_name %}
                                    {{ every_player.points }}
                                {% endif %}
                            {% endfor %}
                        </td>
                        <td style="color:white;">{{ player_standing.points_scored }}</td>
                        <td style="color:white;">{{ player_standing.games_played }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>







{% endblock %}

